# CryptoTA Trading Engine - Environment Configuration
# Copy this file to .env and fill in your values

# ================================
# API Configuration
# ================================
API_HOST=0.0.0.0
API_PORT=8001
API_TITLE=CryptoTA Trading Engine
API_VERSION=2.0.0
DEBUG=false

# ================================
# Binance API Credentials
# ================================
BINANCE_API_KEY=your_api_key_here
BINANCE_API_SECRET=your_api_secret_here
BINANCE_TESTNET=true
BINANCE_TESTNET_URL=https://testnet.binance.vision/api

# ================================
# TimescaleDB (Shared with CryptoMarketData Microservice)
# This instance is managed by CryptoMarketData
# It contains OHLCV data from Binance and Zerodha
# ================================
TIMESCALE_USER=postgres
TIMESCALE_PASSWORD=your_password_here
TIMESCALE_HOST=localhost
TIMESCALE_PORT=5432
TIMESCALE_DB=market_data

# NOTE: For Docker deployments, use:
# TIMESCALE_HOST=host.docker.internal (to access host's database from container)

# ================================
# Redis Configuration
# ================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
CACHE_TTL=86400

# ================================
# Celery Configuration
# ================================
# Leave empty to auto-use Redis connection
CELERY_BROKER_URL=
CELERY_RESULT_BACKEND=

# ================================
# Data Storage
# ================================
DATA_DIR=/data
CACHE_DIR=/cache
BACKTEST_DATA_PATH=/data/historical/

# ================================
# Backtesting Configuration
# ================================
INITIAL_CAPITAL=10000.0
COMMISSION=0.001
SLIPPAGE=0.0005

# ================================
# Trading Configuration
# ================================
MAX_POSITION_SIZE=0.1
RISK_PER_TRADE=0.02

# ================================
# Logging Configuration
# ================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ================================
# Performance
# ================================
WORKERS=4
MAX_PARALLEL_BACKTESTS=10

# ================================
# INTEGRATION NOTES
# ================================
# This microservice integrates with:
# - CryptoMarketData: Provides OHLCV data via shared TimescaleDB
# - Database: market_data (shared)
# - Tables: binance_{symbol}_kline_{interval}, zerodha_{symbol}_kline_{interval}
#
# Make sure CryptoMarketData is running and populating data before
# running backtests that depend on real-time or historical market data.
